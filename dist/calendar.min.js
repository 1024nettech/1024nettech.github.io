!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Calendar=t()}(this,function(){"use strict";function s(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var h=function(){function I(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,I),this.attributes={parent:"",time:"",viewMode:0,pickMode:"single",isLunarCalendar:!1,isFestivalsDisplay:!1,onDatePick:null,onMonthPick:null,onYearPick:null,onTodayPick:null,MONTHS:[],DAYS:[],DATES:[],STYLES:{}},this.elements={parent:null,wrap:null,header:null,title:null,switcher:null,prev:null,next:null,body:null,week:null,dates:null,months:null,years:null,footer:null,today:null,time:null},this.data={minYear:0,maxYear:0,year:0,month:0,date:{year:0,month:0,date:0,day:0,text:"",fullText:""},picked:[]},this.initialize(e).render().addEventListeners(),this}return function(e,t,a){t&&s(e.prototype,t),a&&s(e,a)}(I,[{key:"initialize",value:function(e){var t,a,s,n,i,r,l,u=I.getYear().value;switch(this.set(I.defaults).set(e),a=this.get("time"),t=this.get("pickMode"),n=(s=I.getMonth(a)).text,this.setYear(a).setMonth(a).setDate(a)._setYears(a),t){case"multiple":this.data.picked.push(this.getDate().text);break;case"range":r=n+"-1",l=n+"-"+this.get("DATES")[s.value-1],this.data.picked.push(r),this.data.picked.push(l);break;case"week":r=(i=I.getWeekRanges(a))[0],l=i[i.length-1],this.data.picked.push(r),this.data.picked.push(l)}return this.data.minYear=u-100,this.data.maxYear=u+100,this._createElements(),this}},{key:"render",value:function(){var e=this.getEls(),t=e.wrap,a=e.header,s=e.switcher,n=e.body,i=e.footer,r=document.createDocumentFragment();return this._renderTitle(),a.appendChild(e.title),s.appendChild(e.prev),s.appendChild(e.next),a.appendChild(s),this._renderDays(),n.appendChild(e.week),this._renderDates(),n.appendChild(e.dates),this._renderMonths(),n.appendChild(e.months),this._renderYears(),n.appendChild(e.years),this._renderFooter(),i.appendChild(e.today),i.appendChild(e.time),t.appendChild(a),t.appendChild(n),t.appendChild(i),r.appendChild(t),e.parent.appendChild(r),this}},{key:"addEventListeners",value:function(){var e=".",t=this.get("STYLES"),a="click",s=e+t.TITLE,n=e+t.PREV,i=e+t.NEXT,r=e+t.DATE,l=e+t.MONTH,u=e+t.YEAR,o=e+t.TODAY,h=I.Delegate,c=this.getEls().wrap;return h.on(c,s,a,this._titleClick,this),h.on(c,n,a,this._prevClick,this),h.on(c,i,a,this._nextClick,this),h.on(c,r,a,this._dateClick,this),h.on(c,l,a,this._monthClick,this),h.on(c,u,a,this._yearClick,this),h.on(c,o,a,this._todayClick,this),this}},{key:"removeEventListeners",value:function(){var e="click",t=I.Delegate,a=this.getEls().wrap;return t.off(a,e,this._titleClick),t.off(a,e,this._prevClick),t.off(a,e,this._nextClick),t.off(a,e,this._dateClick),t.off(a,e,this._monthClick),t.off(a,e,this._yearClick),t.off(a,e,this._todayClick),this}},{key:"reload",value:function(e){return this.destroy().initialize(e).render().addEventListeners(),this}},{key:"destroy",value:function(){return this.removeEventListeners().hide().remove().reset(),this}},{key:"remove",value:function(){var e=this.getEls();return e.parent.removeChild(e.wrap),this}},{key:"reset",value:function(){return this.attributes={parent:"",time:"",viewMode:0,pickMode:"single",isLunarCalendar:!1,MONTHS:[],DAYS:[],DATES:[],STYLES:{}},this.elements={parent:null,wrap:null,header:null,title:null,switcher:null,prev:null,next:null,body:null,week:null,dates:null,months:null,years:null,footer:null,today:null,time:null,year:null,month:null,date:null},this.data={minYear:0,maxYear:0,years:{start:0,end:0},year:0,month:0,date:{year:0,month:0,date:0,day:0,text:"",fullText:""},picked:[]},this}},{key:"get",value:function(e){return this.attributes[e]}},{key:"set",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};return Object.assign(this.attributes,t),this}},{key:"getEls",value:function(){return this.elements}},{key:"getYear",value:function(){return this.data.year}},{key:"setYear",value:function(e){return this.data.year=I.getYear(e).value,this}},{key:"getMonth",value:function(){return this.data.month}},{key:"setMonth",value:function(e){return this.data.month=I.getMonth(e).value,this}},{key:"getDate",value:function(){return this.data.date}},{key:"setDate",value:function(e){return this.data.date=I.getDate(e),this}},{key:"getYears",value:function(){return this.data.years}},{key:"getPicked",value:function(){return this.data.picked}},{key:"getLunarSolarTerms",value:function(a){var s=[];return[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23].forEach(function(e,t){s.push(I.Astronomical.getLunarSolarTerm(a,t))}),s}},{key:"update",value:function(e){var t=0<arguments.length&&void 0!==e?e:0;return this.updateViewMode(t).updateView(),this}},{key:"updateViewMode",value:function(e){var t=0<arguments.length&&void 0!==e?e:0;return 2<t?t=2:t<0&&(t=0),this.set({viewMode:t}),this}},{key:"updateView",value:function(){var e=this.get("STYLES").HIDDEN,t=I.DOM,a=t.addClass,s=t.removeClass,n=this.getEls(),i=n.week,r=n.dates,l=n.months,u=n.years;switch(this._renderTitle(),this.get("viewMode")){case 0:a(l,e),a(u,e),s(i,e),s(r,e),this._repaintDates();break;case 1:a(i,e),a(r,e),a(u,e),s(l,e),this._repaintMonths();break;case 2:a(i,e),a(r,e),a(l,e),s(u,e),this._repaintYears()}return this}},{key:"prev",value:function(){var e,t=this.getYears().start,a=this.getYear(),s=this.getMonth(),n=this.data.minYear;switch(this.get("viewMode")){case 0:(s-=1)<1&&(s=12,(a-=1)<n&&(a=n)),e=a+"-"+s,this.setYear(e).setMonth(e);break;case 1:(a-=1)<n&&(a=n),this.setYear(a.toString());break;case 2:(t-=10)<n&&(t=n+9),this._setYears(t.toString())}return this.updateView(),this}},{key:"next",value:function(){var e,t=this.getYears().start,a=this.getYear(),s=this.getMonth(),n=this.data.maxYear;switch(this.get("viewMode")){case 0:12<(s+=1)&&n<(a+=s=1)&&(a=n),e=a+"-"+s,this.setYear(e).setMonth(e);break;case 1:n<(a+=1)&&(a=n),this.setYear(a.toString());break;case 2:n<(t+=10)&&(t=n-9),this._setYears(t.toString())}return this.updateView(),this}},{key:"pickDate",value:function(e){var t,a=this.get("STYLES").PICKED,s=I.DOM,n=s.hasClass,i=s.addClass,r=s.removeClass,l=I.Utils.isFunction,u=this.get("pickMode"),o=this.getEls(),h=e.getAttribute("data-date"),c=this.get("onDatePick"),d=null;if(n(e,a))switch(u){case"single":case"week":return!1;case"multiple":r(e,a),this._removePicked(h),t=this.getPicked(),this.setDate(t[t.length-1]),l(c)&&c(t,e,this);break;case"range":this.data.picked=[],this.data.picked.push(h),this.setDate(h),o.date=e,this._renderDateRanges(),l(c)&&c(this.getPicked(),e,this)}else switch(this.setYear(h).setMonth(h),u){case"single":(d=o.date)&&r(d,a),i(e,a),o.date=e,this.setDate(h),l(c)&&c(h,e,this);break;case"multiple":this.data.picked.push(h),this.data.picked.sort(),t=this.getPicked(),this.setDate(t[t.length-1]),i(e,a),l(c)&&c(this.getPicked(),e,this);break;case"range":switch(this.data.picked.length){case 0:case 1:this.data.picked.push(h),2===this.data.picked.length&&this.data.picked.sort(),t=this.getPicked(),this.setDate(t[t.length-1]),o.date=e,this._renderDateRanges(),l(c)&&c(t,e,this);break;case 2:this.data.picked=[],this.data.picked.push(h),o.date=e,this._renderDateRanges()}break;case"week":var g=I.getWeekRanges(h);this.data.picked=[],this.data.picked.push(g[0]),this.data.picked.push(g[g.length-1]),this.setDate(g[g.length-1]),o.date=e,this._renderWeekRanges(),l(c)&&c(this.getPicked(),e,this)}return this}},{key:"pickMonth",value:function(e){var t=this.get("STYLES").PICKED,a=I.DOM,s=this.getEls(),n=s.month,i=e.getAttribute("data-month"),r=this.get("onMonthPick");return a.hasClass(e,t)?this.update():(n&&a.removeClass(n,t),a.addClass(e,t),s.month=e,this.setYear(i).setMonth(i).update()),I.Utils.isFunction(r)&&r(i,e,this),this}},{key:"pickYear",value:function(e){var t=this.get("STYLES").PICKED,a=I.DOM,s=this.getEls(),n=s.year,i=e.getAttribute("data-year"),r=this.get("onYearPick");return a.hasClass(e,t)||(n&&a.removeClass(n,t),a.addClass(e,t),s.year=e),this.setYear(i).update(1),I.Utils.isFunction(r)&&r(i,e,this),this}},{key:"pickToday",value:function(){var e=I.getToday().value,t=this.get("onTodayPick");return this.setYear(e).setMonth(e).setDate(e).update(),I.Utils.isFunction(t)&&t(e,this.getEls().dates.querySelector("[data-date="+e+"]"),this),this}},{key:"hide",value:function(){var e=this.get("STYLES").HIDDEN,t=this.getEls().wrap;return I.DOM.addClass(t,e),this}},{key:"show",value:function(){var e=this.get("STYLES").HIDDEN,t=this.getEls().wrap;return I.DOM.removeClass(t,e),this}},{key:"toggle",value:function(){var e=this.get("STYLES").HIDDEN,t=this.getEls().wrap;return I.DOM.hasClass(t,e)?this.show():this.hide(),this}},{key:"_setYears",value:function(e){return this.data.years=I.getYears(e),this}},{key:"_removePicked",value:function(e){var t=this.getPicked(),a=t.indexOf(e);return-1<a&&t.splice(a,1),this}},{key:"_createElements",value:function(){var e=this.get("STYLES"),t=e.WRAP,a=e.HEADER,s=e.TITLE,n=e.SWITCHER,i=e.PREV,r=e.ICON_PREV,l=e.NEXT,u=e.ICON_NEXT,o=e.BODY,h=e.WEEK,c=e.DATES,d=e.MONTHS,g=e.YEARS,v=e.FOOTER,f=e.FOOTER_DATE,p=e.TODAY,E=e.FOOTER_TIME,k=e.TIME,m=e.TEXT,D=e.HIDDEN,y=" ",T=this.getEls(),C=I.DOM.createElement,Y=h,S=c,M=d,N=g;switch(this.get("viewMode")){case 0:M+=y+D,N+=y+D;break;case 1:Y+=y+D,S+=y+D,N+=y+D;break;case 2:Y+=y+D,S+=y+D,M+=y+D}return T.parent=document.getElementById(this.get("parent")),T.wrap=C("div",{id:I.Utils.guid("calendar"),className:t}),T.header=C("div",{className:a}),T.title=C("h4",{className:s},[C("span",{className:m})]),T.switcher=C("div",{className:n}),T.prev=C("div",{className:i},[C("span",{className:m},[C("i",{className:r})])]),T.next=C("div",{className:l},[C("span",{className:m},[C("i",{className:u})])]),T.body=C("div",{className:o}),T.week=C("div",{className:Y}),T.dates=C("div",{className:S}),T.months=C("div",{className:M}),T.years=C("div",{className:N}),T.footer=C("div",{className:v}),T.today=C("div",{className:f},[C("p",{className:p},[C("span",{className:m})])]),T.time=C("div",{className:E},[C("p",{className:k},[C("span",{className:m})])]),this}},{key:"_renderTitle",value:function(){var e=this.getEls().title.querySelector("."+this.get("STYLES").TEXT),t=this.getYears(),a=this.getYear(),s="";switch(this.get("viewMode")){case 0:s=I.getMonth(a+"-"+this.getMonth()).fullText;break;case 1:s=I.getYear(a.toString()).text;break;case 2:s=t.start+" - "+t.end}return e.innerHTML=s,this}},{key:"_renderDays",value:function(){var e=this.get("STYLES"),n=e.DAY,i=e.WEEKEND,r=e.TEXT,l=this.get("DAYS"),u=I.DOM.createElement,o=document.createDocumentFragment();return l.forEach(function(e,t){var a=0===t||t===l.length-1?n+" "+i:n,s=u("div",{className:a},[u("span",{className:r},[e])]);o.appendChild(s)}),this.getEls().week.appendChild(o),this}},{key:"_renderDates",value:function(){var e,t=this.get("DATES"),a=I.isLeapYear,s=document.createDocumentFragment(),n=this.getYear(),i=this.getMonth(),r=t[i-1],l=I.getDay(n+"-"+i+"-1").value,u=i-2<0?n-1:n,o=i-2<0?12:i-1,h=t[o-1],c=12===i?n+1:n,d=12===i?1:i+1;return a(u)&&2==o&&(h+=1),a(n)&&2===i&&(r+=1),e=42-(l+r),0!==l&&s.appendChild(this._getDatesFragment({year:u,month:o,start:h-(l-1),end:h,isPrev:!0,isNext:!1})),s.appendChild(this._getDatesFragment({year:n,month:i,start:1,end:r,isPrev:!1,isNext:!1})),0<e&&s.appendChild(this._getDatesFragment({year:c,month:d,start:1,end:e,isPrev:!1,isNext:!0})),this.getEls().dates.appendChild(s),this}},{key:"_repaintDates",value:function(){var e=this.get("STYLES").HIDDEN,t=I.DOM,a=this.getEls().dates;return t.addClass(a,e),a.innerHTML="",t.removeClass(a,e),this._renderDates(),this}},{key:"_getDatesFragment",value:function(e){for(var c=this,d=e.year,g=e.month,t=e.start,a=e.end,v=e.isPrev,f=e.isNext,p=" ",s=this.get("STYLES"),E=s.DATE,k=s.DATE_PREV,m=s.DATE_NEXT,D=s.CURRENT,y=s.PICKED,T=s.PICKED_RANGE,C=s.WEEKEND,Y=s.TEXT,S=s.LUNAR_TEXT,M=s.FESTIVAL_TEXT,N=I.DOM.createElement,_=I.isDatesEqual,x=this.get("isLunarCalendar"),w=this.get("isFestivalsDisplay"),A=document.createDocumentFragment(),L=this.getEls(),b=t,P=this.get("pickMode"),O=this.getPicked(),n=function(){var a=d+"-"+g+"-"+b,e=I.isToday(a),t=I.getDay(a),s=w?I.getFestival(g,b):"",n=[N("span",{className:Y},[b])],i="",r=I.getDate(a).lunar.text,l=void 0,u=void 0;switch(s?n.push(N("span",{className:M},[s])):x&&(s&&(r=s),0<(l=c.getLunarSolarTerms(d).filter(function(e){return I.isEqual(e.value,a)})).length&&(r=l[0].text),n.push(N("span",{className:S},[r]))),u=N("div",{"data-date":a},n),i+=E,v?i+=p+k:f&&(i+=p+m),e&&(i+=p+D),0!==t.value&&6!==t.value||(i+=p+C),P){case"single":var o=c.getDate().text;_(a,o)&&(i+=p+y,L.date=u);break;case"multiple":O.forEach(function(e){_(a,e)&&(i+=p+y)});break;case"range":case"week":var h=[];2===O.length?(h=I.getRanges(O[0],O[1])).forEach(function(e,t){if(!_(a,e))return!1;0!==t&&t!==h.length-1?(i+=p+y,i+=p+T):0!==t&&t!==h.length-1||(i+=p+y)}):1===O.length&&(i+=p+y)}u.className=i,A.appendChild(u)};b<=a;b+=1)n();return A}},{key:"_renderDateRanges",value:function(){var e=this.get("STYLES"),s=e.PICKED,n=e.PICKED_RANGE,t=I.DOM,a=t.hasClass,i=t.removeClass,r=t.addClass,l=this.getEls(),u=this.elements.date,o=l.dates,h=o.querySelectorAll("."+s);switch(this.data.picked.length){case 1:h.forEach(function(e){i(e,s),a(e,n)&&i(e,n)}),r(u,s);break;case 2:var c=I.getRanges(this.data.picked[0],this.data.picked[1]);c.forEach(function(e,t){var a=o.querySelector('[data-date="'+e+'"]');0<t&&t<c.length-1&&(r(a,s),r(a,n))}),r(u,s)}return this}},{key:"_renderWeekRanges",value:function(){var e=this.get("STYLES"),s=e.PICKED,n=e.PICKED_RANGE,t=I.DOM,a=t.removeClass,i=t.addClass,r=this.getEls().dates,l=r.querySelectorAll("."+s),u=this.getPicked(),o=I.getWeekRanges(u[0]);return l.forEach(function(e){a(e,n),a(e,s)}),o.forEach(function(e,t){var a=r.querySelector('[data-date="'+e+'"]');0<t&&t<o.length-1?(i(a,s),i(a,n)):0!==t&&t!==o.length-1||i(a,s)}),this}},{key:"_renderMonths",value:function(){var u=this,e=this.get("STYLES"),o=e.CURRENT,h=e.PICKED,c=e.MONTH,d=e.MONTH_NEXT,g=e.TEXT,t=this.get("MONTHS"),a=I.DOM,v=a.createElement,f=a.setAttribute,p=document.createDocumentFragment(),E=this.getEls(),k=this.getYear(),m=I.getToday();return t.forEach(function(e,t){var a=u.getDate(),s=k===m.year&&e===m.month,n=k===a.year&&e===a.month,i=k+1,r=c,l=v("div",{"data-month":k+"-"+e},[v("span",{className:g},[e])]);s&&(r+=" "+o),12<=t?(r+=" "+d,f(l,"data-month",i+"-"+e)):n&&(r+=" "+h,E.month=l),l.className=r,p.appendChild(l)}),E.months.appendChild(p),this}},{key:"_repaintMonths",value:function(){var e=this.get("STYLES").HIDDEN,t=I.DOM,a=this.getEls().months;return t.addClass(a,e),a.innerHTML="",t.removeClass(a,e),this._renderMonths(),this}},{key:"_renderYears",value:function(){var e=this.getYears(),t=e.start,a=e.end,s=t-3,n=t-1,i=a+1,r=a+3,l=document.createDocumentFragment();return l.appendChild(this._getYearsFragment({start:s,end:n,isPrev:!0,isNext:!1})),l.appendChild(this._getYearsFragment({start:t,end:a,isPrev:!1,isNext:!1})),l.appendChild(this._getYearsFragment({start:i,end:r,isPrev:!1,isNext:!0})),this.getEls().years.appendChild(l),this}},{key:"_repaintYears",value:function(){var e=this.get("STYLES").HIDDEN,t=I.DOM,a=this.getEls().years;return t.addClass(a,e),a.innerHTML="",t.removeClass(a,e),this._renderYears(),this}},{key:"_getYearsFragment",value:function(e){for(var t=e.start,a=e.end,s=e.isPrev,n=e.isNext,i=this.get("STYLES"),r=i.YEAR,l=i.YEAR_PREV,u=i.YEAR_NEXT,o=i.CURRENT,h=i.PICKED,c=i.DISABLED,d=i.TEXT,g=I.DOM.createElement,v=document.createDocumentFragment(),f=this.getEls(),p=this.data.minYear,E=this.data.maxYear,k=t;k<=a;k+=1){var m=this.getDate(),D=k===I.getToday().year,y=k===m.year,T=r,C=g("div",{"data-year":k},[g("span",{className:d},[k])]);s?T+=" "+l:n&&(T+=" "+u),D&&(T+=" "+o),y&&(T+=" "+h,f.year=C),(k<p||E<k)&&(T+=" "+c),C.className=T,v.appendChild(C)}return v}},{key:"_renderFooter",value:function(){var e=this.get("STYLES").TEXT,t=this.getEls(),a=t.today.querySelector("."+e),i=t.time.querySelector("."+e),s=I.getToday(),r=null;return a.innerHTML="今天："+s.text,I.DOM.setAttribute(a,"data-date",s.value),function e(){var t=new Date,a=t.getHours(),s=t.getMinutes(),n=t.getSeconds();r&&clearTimeout(r),a<10&&(a="0"+a),s<10&&(s="0"+s),n<10&&(n="0"+n),i.innerHTML=a+":"+s+":"+n,r=setTimeout(e,1e3)}(),this}},{key:"_titleClick",value:function(){var e=this.get("viewMode");return 2<(e+=1)&&(e=2),this.update(e),this}},{key:"_prevClick",value:function(){return this.prev(),this}},{key:"_nextClick",value:function(){return this.next(),this}},{key:"_dateClick",value:function(e){var t,a=e.delegateTarget,s=a.getAttribute("data-date");return this.pickDate(a),t=this.getPicked(),console.log("------------- _dateClick -------------"),"single"===this.get("pickMode")?console.log(s):console.log(t),this}},{key:"_monthClick",value:function(e){var t=e.delegateTarget,a=t.getAttribute("data-month");return this.pickMonth(t),console.log("------------- _monthClick -------------"),console.log(a),this}},{key:"_yearClick",value:function(e){var t=e.delegateTarget,a=t.getAttribute("data-year");return this.pickYear(t),console.log("------------- _yearClick -------------"),console.log(a),this}},{key:"_todayClick",value:function(){var e=this.getEls(),t=I.getToday().text;return this.pickToday(),this.pickDate(e.dates.querySelector('[data-date="'+t+'"]')),console.log("------------- _todayClick -------------"),console.log(t),this}}],[{key:"getYear",value:function(e){var t=(e?new Date(e):new Date).getFullYear();return{value:t,text:t.toString(),fullText:t+"年"}}},{key:"getMonth",value:function(e){var t=e?new Date(e):new Date,a=I.getYear(e),s=t.getMonth();return{value:s+=1,text:a.text+"-"+s,fullText:a.fullText+s+"月"}}},{key:"getDate",value:function(e){var t=e?new Date(e):new Date,a=I.getYear(e),s=I.getMonth(e),n=t.getDate(),i=I.getDay(e),r=a.value+"-"+s.value+"-"+n,l=s.fullText+n+"日";return{year:a.value,month:s.value,date:n,day:i.value,text:r,fullText:l+" "+i.fullText,lunar:I.Astronomical.getLunarDate(r)}}},{key:"getDay",value:function(e){var t=(e?new Date(e):new Date).getDay(),a=I.defaults.DAYS[t];return{value:t,text:a,fullText:"星期"+a}}},{key:"getToday",value:function(){return I.getDate()}},{key:"getYears",value:function(e){var t=I.getYear(e).value,a=t.toString().split(""),s=parseInt(a[a.length-1],10),n=0,i=0;return i=0===s?(n=t)+9:9===s?(n=t-9,t):(n=t-s,t+(9-s)),{start:n,end:i}}},{key:"getWeekRanges",value:function(e){var t=I.defaults.DATES,a=I.isLeapYear,s=I.getDay(e).value,n=e.split("-"),i=parseInt(n[0],10),r=parseInt(n[1],10),l=parseInt(n[2],10),u=t[r-1],o=i,h=r,c=l-s,d=i,g=r,v=l+(6-s),f=0;return a(i)&&2===r&&(u+=1),c<1&&(h-=1,c=(f=r-2)<0?(o-=1,h=12,t[11]+c):t[f]+c),u<v&&(g+=1,v-=u,11<f&&(d+=1,g=1)),I.getRanges(o+"-"+h+"-"+c,d+"-"+g+"-"+v)}},{key:"getRanges",value:function(e,t){var a,s,n,i=[],r=e.split("-"),l=t.split("-"),u=new Date,o=new Date;for(u.setUTCFullYear(parseInt(r[0],10),parseInt(r[1],10)-1,parseInt(r[2],10)),o.setUTCFullYear(parseInt(l[0],10),parseInt(l[1],10)-1,parseInt(l[2],10)),a=u.getTime(),s=o.getTime(),n=a;n<=s;n+=864e5)i.push(I.getDate(n).text);return i}},{key:"getFestival",value:function(e,t){var a=e<10?"0"+e:e.toString(),s=t<10?"0"+t:t.toString();return I.defaults.FESTIVALS[a+s]||""}},{key:"isLeapYear",value:function(e){return(e%4==0||e%400==0)&&e%100!=0}},{key:"isToday",value:function(e){return I.isDatesEqual(e)}},{key:"isDatesEqual",value:function(e,t){var a=I.getDate;return I.isEqual(a(e).text,a(t).text)}},{key:"isEqual",value:function(e,t){return new Date(e).getTime()===new Date(t).getTime()}}]),I}();return h.defaults={parent:"calendar",time:"",viewMode:0,pickMode:"single",isLunarCalendar:!1,isFestivalsDisplay:!1,onDatePick:null,onMonthPick:null,onYearPick:null,onTodayPick:null,FESTIVALS:{"0101":"元旦","0214":"情人节","0308":"妇女节","0312":"植树节","0401":"愚人节","0501":"劳动节","0504":"青年节","0512":"护士节","0601":"儿童节","0701":"建党节","0801":"建军节","0910":"教师节",1001:"国庆节",1224:"平安夜",1225:"圣诞节"},MONTHS:[1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4],DAYS:["日","一","二","三","四","五","六"],DATES:[31,28,31,30,31,30,31,31,30,31,30,31],STYLES:{WRAP:"cal-md",HEADER:"cal-hd",TITLE:"cal-title",SWITCHER:"cal-switcher",PREV:"cal-prev",ICON_PREV:"icon-angle-up",NEXT:"cal-next",ICON_NEXT:"icon-angle-down",BODY:"cal-bd",WEEK:"cal-week",WEEKEND:"cal-weekend",DAY:"cal-day",DATES:"cal-dates",DATE:"cal-date",DATE_PREV:"cal-date-prev",DATE_NEXT:"cal-date-next",MONTHS:"cal-months",MONTH:"cal-month",MONTH_NEXT:"cal-month-next",YEARS:"cal-years",YEAR:"cal-year",YEAR_PREV:"cal-year-prev",YEAR_NEXT:"cal-year-next",FOOTER:"cal-ft",FOOTER_DATE:"cal-ft-date",TODAY:"cal-today",FOOTER_TIME:"cal-ft-time",TIME:"cal-time",TEXT:"cal-text",LUNAR_TEXT:"cal-lunar-text",FESTIVAL_TEXT:"cal-festival-text",CURRENT:"cal-current",PICKED:"cal-picked",PICKED_RANGE:"cal-picked-range",PICKED_POINT:"cal-picked-point",DISABLED:"cal-disabled",HIDDEN:"cal-hidden"}},h.Astronomical={convertJD2CE:function(e){var t,a,s,n,i,r,l,u,o,h;return i=(e+=.5)-(r=Math.floor(e)),t=(r<2299161?r:r+10+(l=Math.floor((r-2305447.5)/36524.25))-Math.floor(l/4))+1524,a=parseInt((t-122.1)/365.25),s=parseInt(365.25*a),n=parseInt((t-s)/30.6),h=Math.round(t-s-parseInt(30.6*n)+i),n<14?o=n-1:n<16&&(o=n-13),2<o?u=a-4716:[1,2].includes(o)&&(u=a-4715),{year:u,month:o,date:h,value:u+"-"+o+"-"+h,text:u+"年"+o+"月"+h+"日"}},convertCE2JD:function(e){var t=h.getDate(e),a=t.year,s=t.month,n=t.date,i=0,r=0,l=0;return[1,2].includes(s)?(i=s+12,r=a-1):(r=a,i=s),(1582<r||1582===r&&10<i||1582===r&&10===i&&15<=n)&&(l=2-parseInt(r/100)+parseInt(r/400)),Math.floor(365.25*(r+4716))+parseInt(30.6*(i+1))+n+l-1524.5},getLunarZodiac:function(e){return["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"][(new Date(e).getFullYear()-1864)%12]},getLunarYear:function(e){var t=new Date(e).getFullYear()-1864;return["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"][t%10]+["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"][t%12]},getLunarMonth:function(e){var t=new Date(e).getMonth()-1;return t<0&&(t=11),["正","二","三","四","五","六","七","八","九","十","冬","腊"][t]+"月"},getLunarDate:function(e){var t=["初","十","廿"],a=["一","二","三","四","五","六","七","八","九","十"],s=h.Astronomical,n=function e(t){var a=new Date(t).getFullYear(),s=14*Math.floor((a-1977)/4)+10.6*(1+(a-1977)%4)+function(e){var t=h.defaults.DATES,a=new Date(e),s=a.getFullYear(),n=a.getMonth()+1,i=a.getDate();return t.forEach(function(e,t){t<n-1&&(h.isLeapYear(s)&&1===t&&(e+=1),i+=e)}),i}(t),n=Math.floor(s%29.5);if(0===n)switch(e(new Date(t).getTime()-864e5)){case 28:n=29;break;case 29:n=30}return n}(e),i=s.getLunarYear(e),r=s.getLunarZodiac(e),l=s.getLunarMonth(e),u="",o="";switch(n){case 10:u=o="初十";break;case 20:u=o="二十";break;case 30:u=o="三十";break;default:u=o=t[Math.floor(n/10)]+a[(n-1)%10]||n,0===Math.floor(n/10)&&(n-1)%10==0&&(o=l)}return{year:i,month:l,date:u,zodiac:r,text:o}},getLunarSolarTerm:function(e,t){var a=[{text:"小寒",diff:0},{text:"大寒",diff:1272494.4},{text:"立春",diff:2548020.6},{text:"雨水",diff:3830143.8},{text:"惊蛰",diff:5120226.6},{text:"春分",diff:6420865.8},{text:"清明",diff:7732018.8},{text:"谷雨",diff:9055272.6},{text:"立夏",diff:10388958},{text:"小满",diff:11733065.4},{text:"芒种",diff:13084292.4},{text:"夏至",diff:14441592},{text:"小暑",diff:15800560.8},{text:"大暑",diff:17159347.2},{text:"立秋",diff:18513766.2},{text:"处暑",diff:19862002.2},{text:"白露",diff:21201005.4},{text:"秋分",diff:22529659.8},{text:"寒露",diff:23846845.2},{text:"霜降",diff:25152606},{text:"立冬",diff:26447687.4},{text:"小雪",diff:27733451.4},{text:"大雪",diff:29011921.2},{text:"冬至",diff:30285477.6}],s=h.Astronomical,n=365.24219878*(e-2001)+a[t].diff/86400+2451914.5;return{value:s.convertJD2CE(n).value,text:a[t].text}}},h.Utils={uuid:0,isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.apply(e)},isFunction:function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.apply(e)},isElement:function(e){return e&&e.nodeName&&e.tagName&&1===e.nodeType},guid:function(e){var t=h.Utils;return t.uuid+=1,e?e+"-"+t.uuid:"guid-"+t.uuid},trim:function(e){return e.replace(/^\s+/g,"").replace(/\s+$/g,"")},stripTags:function(e){return e.replace(/<\/?[^>]+(>|$)/g,"")}},h.DOM={createElement:function(e,t,a){var s=h.Utils,n=document.createElement(e);for(var i in t)t.hasOwnProperty(i)&&h.DOM.setAttribute(n,i,t[i]);return s.isArray(a)&&a.forEach(function(e){var t;if(s.isElement(e))t=e;else if(s.isString(e)||s.isNumber(e)){var a=s.isString(e)?s.trim(s.stripTags(e)):e.toString();t=document.createTextNode(a)}n.appendChild(t)}),n},setAttribute:function(e,t,a){var s=e.tagName.toLowerCase();switch(t){case"style":e.style.cssText=a;break;case"value":"input"===s||"textarea"===s?e.value=a:e.setAttribute(t,a);break;case"className":e.className=a;break;default:e.setAttribute(t,a)}},hasClass:function(e,t){var a=e.className;return!!a&&a.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){var a=e.className;if(h.DOM.hasClass(e,t))return!1;a+=0<a.length?" "+t:t,e.className=a},removeClass:function(e,t){var a=e.className;if(!a||!h.DOM.hasClass(e,t))return!1;a=h.Utils.trim(a.replace(t,"")),e.className=a}},h.Delegate={on:function(s,n,i,r,l,e,u){var o=h.Delegate;return"mouseenter"!==i&&"mouseleave"!==i||(e=!0),r._delegateWrapper=r,s.addEventListener(i,function e(t){var a=o.getDelegateTarget(s,t.target,n);(t.delegateTarget=a)&&(!0===u&&o.off(s,i,e),r.call(l||s,t))},e||!1),r},once:function(e,t,a,s,n,i){h.Delegate.on(e,t,a,s,n,i,!0)},off:function(e,t,a,s){a._delegateWrapper&&delete(a=a._delegateWrapper)._delegateWrapper,"mouseenter"!==t&&"mouseleave"!==t||(s=!0),e.removeEventListener(t,a,s||!1)},stop:function(e){var t=h.Delegate;t.stopPropagation(e),t.preventDefault(e)},stopPropagation:function(e){var t=window.event;e.stopPropagation?e.stopPropagation():t.cancelBubble=!0},preventDefault:function(e){var t=window.event;e.preventDefault?e.preventDefault():t.returnValue=!1},getDelegateTarget:function(e,t,a){for(;t&&t!==e;){if(h.DOM.hasClass(t,a.replace(".","")))return t;t=t.parentElement}return null}},h});
//# sourceMappingURL=calendar.min.js.map
